!function(e){"use strict";var o=function(o,t){var a=o.find(".elematic-"+t+"-wrapper").eq(0),i=o.find(".elematic-load-more-btn").eq(0);if(a.length&&i.length){var n=i.data("loading-text")||"Loading...",d=i.data("load-more-text")||"Load More",l=i.data("no-more-text")||"No more posts",s=i.data("settings"),r=parseInt(i.data("page"),10)||1;if(s&&"undefined"!=typeof elematic_load_more_params){var c="portfolio"===t&&void 0!==e.fn.isotope&&a.hasClass("isotope-initialized");"portfolio"!==t||c||void 0===e.fn.isotope||(a.isotope({itemSelector:".elematic-portfolio-item",layoutMode:"fitRows",percentPosition:!0}),a.addClass("isotope-initialized")),i.on("click",function(o){o.preventDefault(),r++,i.text(n).addClass("elematic__loading").prop("disabled",!0),e.ajax({url:elematic_load_more_params.ajaxurl,type:"POST",data:{action:"load_more_posts",settings:s,page:r,nonce:elematic_load_more_params.nonce},success:function(o){if(o.success){if(!o.data||!o.data.html){i.text(l).removeClass("elematic__loading").prop("disabled",!0).addClass("elematic-no-more-posts");return}var n=e(o.data.html);if(n.length){n.addClass("elematic-item-loading"),a.append(n);var s=n.first().offset().top-100;e("html, body").animate({scrollTop:s},600),"portfolio"===t&&void 0!==e.fn.isotope&&(a.isotope("appended",n),"function"==typeof a.imagesLoaded&&a.imagesLoaded().progress(function(){a.isotope("layout")}),n.find(".elementor-invisible").removeClass("elementor-invisible"),n.find('[data-bs-toggle="modal"]').each(function(){e(this).modal()})),setTimeout(function(){n.each(function(o){var t=e(this);setTimeout(function(){t.removeClass("elematic-item-loading").addClass("elematic-item-loaded")},100*o)})},50),setTimeout(function(){i.text(d).removeClass("elematic__loading").prop("disabled",!1),i.data("page",r)},300)}else i.text(l).removeClass("elematic__loading").prop("disabled",!0).addClass("elematic-no-more-posts")}else i.text(l).removeClass("elematic__loading").prop("disabled",!0).addClass("elematic-no-more-posts"),setTimeout(function(){i.fadeOut(500,function(){i.remove()})},5e3)},error:function(e,o,t){i.text(d).removeClass("elematic__loading").prop("disabled",!1)}})})}}};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/elematic-post-grid.default",function(e){o(e,"post-grid")}),elementorFrontend.hooks.addAction("frontend/element_ready/elematic-portfolio.default",function(e){o(e,"portfolio")})})}(jQuery);