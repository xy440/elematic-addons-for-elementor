!function(e){"use strict";var i={init:function(e,t){var n=e.find(".elematic-timeline-wrap");0!==n.length&&n.each(function(){var e=t(this);e.attr("id"),!e.data("elematic-timeline-initialized")&&(e.data("elematic-timeline-initialized",!0),i.initVerticalTimeline(e[0]),i.initScrollAnimations(e),i.initLineAnimation(e))})},initVerticalTimeline:function(t){var n={element:t,blocks:t.getElementsByClassName("elematic-timeline-container"),images:t.getElementsByClassName("elematic-timeline-icon"),contents:t.getElementsByClassName("elematic-timeline-content"),offset:.8,scrolling:!1};this.hideBlocks(n);var l=function(){n.scrolling||(n.scrolling=!0,window.requestAnimationFrame?window.requestAnimationFrame(function(){i.showBlocks(n),n.scrolling=!1}):setTimeout(function(){i.showBlocks(n),n.scrolling=!1},250))};window.addEventListener("scroll",l),e(t).data("scroll-handler",l),this.showBlocks(n)},hideBlocks:function(e){if("classList"in document.documentElement)for(var i=0;i<e.blocks.length;i++)e.blocks[i].getBoundingClientRect().top>window.innerHeight*e.offset&&(e.images[i].classList.add("elematic-vhidden"),e.contents[i].classList.add("elematic-vhidden"))},showBlocks:function(e){if("classList"in document.documentElement)for(var i=0;i<e.blocks.length;i++)e.contents[i].classList.contains("elematic-vhidden")&&e.blocks[i].getBoundingClientRect().top<=window.innerHeight*e.offset&&(e.images[i].classList.add("elematic-timeline-icon-bounce-in"),e.contents[i].classList.add("elematic-timeline-content-bounce-in"),e.images[i].classList.remove("elematic-vhidden"),e.contents[i].classList.remove("elematic-vhidden"))},initScrollAnimations:function(i){var t,n=i.find(".elematic-timeline-container"),l=i.attr("id");if(0!==n.length){var a=function(i){var t=document.documentElement.clientHeight,l=[15,15];n.each(function(){var i,n=this.getBoundingClientRect(),a=(n.top/t*100+n.bottom/t*100)/2,c=a>l[1]&&a<100-l[1];e(this).toggleClass("highlight",c)})},c=function(e){clearTimeout(t),t=setTimeout(function(){a(e)},10)};e(window).on("scroll.elematic-timeline-"+l,c),e(window).on("resize.elematic-timeline-"+l,a),a()}},initLineAnimation:function(i){var t,n=i.find(".elematic-timeline-container"),l=i.find(".elematic-timeline-line-over"),a=i.attr("id");if(0!==n.length&&0!==l.length){var c=[],o=window.scrollY||window.pageYOffset,s=function(){var i=window.scrollY||window.pageYOffset;c=[],n.each(function(i){var t=e(this),n=t.outerHeight();c.push(n),t.hasClass("highlight")&&t.find(".elematic-timeline-line-over").css("height",n+"px")}),i>o?n.filter(".highlight").prev().find(".elematic-timeline-line-over").addClass("elematic-highlighted"):i<o&&n.filter(".highlight").next().find(".elematic-timeline-line-over").removeClass("elematic-highlighted"),o=i},m=function(){clearTimeout(t),t=setTimeout(s,10)};e(window).on("scroll.elematic-timeline-line-"+a,m),s()}},destroy:function(i){var t=i.find(".elematic-timeline-wrap"),n=t.attr("id");n&&(e(window).off(".elematic-timeline-"+n),e(window).off(".elematic-timeline-line-"+n)),t.removeData("elematic-timeline-initialized")}};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/elematic-timeline.default",i.init)})}(jQuery);